(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},r={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/f/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01bd":function(e,t,a){e.exports=a.p+"img/logo_mappa_redondo.45091caa.svg"},3582:function(e,t,a){e.exports=a.p+"img/scouts.7b92e97b.svg"},"464e":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("NavBar"),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("Footer")],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("a",{attrs:{href:"/f"}},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Scouts Logo",contain:"",src:e.scout_logo,width:"50"}})],1),a("h1",{staticClass:"d-none d-lg-block"},[e._v("Escoteirando")])]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.testClick}},[a("span",{staticClass:"mr-2"},[e._v("Test")]),a("v-icon",[e._v("mdi-open-in-new")])],1),e.isEnabledMenu?a("v-menu",{attrs:{bottom:"","offset-y":"",left:"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,1510716892)},[a("v-list",e._l(e.menu_items,(function(t,o){return a("v-list-item",{key:o,on:{click:function(a){return e.menu_click(t)}}},[t.icon?a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.icon)}})],1):e._e(),a("v-list-item-title",[e._v(e._s(t.text))])],1)})),1)],1):e._e()],1)},s=[],c=a("5530"),l=a("2f62"),u={data:function(){return{scout_logo:a("ff63"),menu_items:[{id:1,text:"Menu text 1"},{id:2,text:"Texto do menu 2"},{id:3,text:"Sair",icon:"mdi-exit-to-app"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])("backend",["isValid"])),{},{isEnabledMenu:function(){return this.isValid&&this.menu_items.length>0}}),methods:{menu_click:function(e){alert(e),console.log("Clicou",e)},testClick:function(){this.$alert("Teste")}}},d=u,p=a("2877"),m=a("6544"),v=a.n(m),f=a("40dc"),h=a("8336"),_=a("132d"),g=a("adda"),b=a("8860"),x=a("da13"),A=a("34c3"),T=a("5d23"),V=a("e449"),S=a("2fa4"),w=Object(p["a"])(d,i,s,!1,null,null,null),E=w.exports;v()(w,{VAppBar:f["a"],VBtn:h["a"],VIcon:_["a"],VImg:g["a"],VList:b["a"],VListItem:x["a"],VListItemIcon:A["a"],VListItemTitle:T["b"],VMenu:V["a"],VSpacer:S["a"]});var C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{dark:"",padless:""}},[a("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[a("v-card-title",{staticClass:"primary"},[e._l(e.left_links,(function(e){return a("a",{key:e.href,attrs:{href:e.href,title:e.title,target:"_empty"}},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:e.alt,contain:"",src:e.src,width:"40"}})],1)})),a("v-spacer"),e._l(e.links,(function(t){return a("v-btn",{key:t.url,staticClass:"mx-4",attrs:{dark:"",icon:"",href:t.url}},[a("v-icon",{attrs:{size:"24px",title:t.title}},[e._v(e._s(t.icon))])],1)}))],2),a("v-card-text",{staticClass:"py-2 white--text text-center"},[e._v(" "+e._s((new Date).getFullYear())+" | "),a("strong",[e._v("Escoteirando")]),e._v(" | "),a("ComplianceTextButton",{attrs:{is_text:"",document:"usage_terms"}}),e._v(" | "),a("ComplianceTextButton",{attrs:{is_text:"",document:"privacy_policy"}}),e._v(" | "),a("ComplianceTextButton",{attrs:{is_text:"",document:"who_are_us"}}),e._v(" | "),e.development?a("v-icon",{attrs:{color:"orange darken-2",title:"Ambiente de desenvolvimento"}},[e._v("mdi-test-tube")]):a("v-icon",{attrs:{color:"green darken-2",title:"Ambiente de produção"}},[e._v("mdi-check-outline")]),e._v(" | "),e.getAuth?a("v-icon",{attrs:{title:e.getAuth}},[e._v("mdi-account-key")]):e._e()],1)],1)],1)},O=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"80%"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[e.is_text?a("a",e._g(e._b({staticClass:"white--text",attrs:{dark:""}},"a",r,!1),o),[e._v(e._s(e.title))]):a("v-btn",e._g(e._b({attrs:{color:"primary",dark:"",text:e.is_text,"x-small":e.is_text}},"v-btn",r,!1),o),[e._v(" "+e._s(e.title)+" ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.title))]),a("v-card-text",e._l(e.text,(function(t){return a("p",{key:t,staticClass:"text-caption"},[e._v(" "+e._s(t)+" ")])})),0),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Fechar")])],1)],1)],1)},k=[],y=(a("c975"),a("ac1f"),a("1276"),"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \nExcepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),R="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",L='Sou o <a href="https://github.com/guionardo">Guionardo</a> ',I={name:"ComplianceTextButton",props:{is_text:Boolean,document:{validator:function(e){return-1!==["usage_terms","privacy_policy","who_are_us"].indexOf(e)}}},data:function(){return{dialog:!1,text:"",title:""}},methods:{parseText:function(e){return e.split("\n")}},mounted:function(){"usage_terms"==this.document?(this.title="Termos de uso",this.text=this.parseText(y)):"privacy_policy"==this.document?(this.title="Política de Privacidade",this.text=this.parseText(R)):"who_are_us"==this.document?(this.title="Quem somos nós",this.text=this.parseText(L)):(this.title="Documento inválido",this.text="Invalid document")}},N=I,j=a("b0af"),D=a("99d9"),F=a("169a"),U=Object(p["a"])(N,P,k,!1,null,null,null),M=U.exports;v()(U,{VBtn:h["a"],VCard:j["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VDialog:F["a"],VSpacer:S["a"]});var $=Object({NODE_ENV:"production",BASE_URL:"/f/"}).APIURL||"http://localhost:8000",q=60,B="ESCOTEIRANDO_AUTH",G="ESCOTEIRANDO_MAPPA",z=Object({NODE_ENV:"production",BASE_URL:"/f/"}).PRODUCTION?"PRODUCTION":"DEVELOPMENT",H=[{id:"f",text:"Físico"},{id:"i",text:"Intelectual"},{id:"c",text:"Caráter"},{id:"a",text:"Afetivo"},{id:"s",text:"Social"},{id:"e",text:"Espiritual"}],K=[{id:"c",text:"Cerimônia"},{id:"e",text:"Instrução"},{id:"h",text:"História"},{id:"i",text:"Intervalo"},{id:"j",text:"Jogo"},{id:"m",text:"Canção"},{id:"q",text:"Quebra-gelo"}],J=["e","h","j","m","q"],Q=[{id:"A",text:"Alcatéia"},{id:"T",text:"Tropa Escoteira"},{id:"S",text:"Tropa Sênior"},{id:"C",text:"Clã Pioneiro"}],Z={components:{ComplianceTextButton:M},data:function(){return{links:[{icon:"mdi-github",url:"https://github.com/guionardo",title:"GitHub Guionardo"},{icon:"mdi-linkedin",url:"https://www.linkedin.com/in/guionardo/",title:"LinkedIn"}],left_links:[{src:a("ee60"),href:"https://escoteiros.org.br",alt:"Escoteiros Logo",title:"Escoteiros do Brasil"},{src:a("3582"),href:"https://scout.org",alt:"Scouts Logo",title:"Scouts"},{src:a("01bd"),href:"#",alt:"mAPPa logo",title:"mAPPa Adulto"}],development:"DEVELOPMENT"==z}},computed:Object(c["a"])({},Object(l["b"])("backend",["getAuth"]))},X=Z,Y=a("553a"),W=Object(p["a"])(X,C,O,!1,null,null,null),ee=W.exports;v()(W,{VBtn:h["a"],VCard:j["a"],VCardText:D["b"],VCardTitle:D["c"],VFooter:Y["a"],VIcon:_["a"],VImg:g["a"],VSpacer:S["a"]});var te={name:"App",components:{NavBar:E,Footer:ee},data:function(){return{}}},ae=te,oe=a("7496"),re=a("a523"),ne=a("f6c4"),ie=Object(p["a"])(ae,r,n,!1,null,null,null),se=ie.exports;v()(ie,{VApp:oe["a"],VContainer:re["a"],VMain:ne["a"]});a("b0c0");var ce=a("8c4f"),le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-snackbar",{attrs:{centered:"","multi-line":"",color:"error",timeout:"5000"},scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[a("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.alert=!1}}},"v-btn",o,!1),[e._v(" X ")])]}}]),model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.alertMessage)+" ")]),a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Login")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{id:"user",label:"Usuário",name:"user","prepend-icon":"mdi-account",type:"text",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("PasswordField",{on:{password:e.on_password}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",small:"",to:"subscribe"}},[e._v("Registrar")]),a("v-btn",{attrs:{text:"",small:"",to:"reset"}},[e._v("Esqueci a senha")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.doLogin}},[e._v("Login")])],1)],1)],1)],1)},ue=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{id:"password",label:"Senha",name:"password",color:e.textClass,counter:20,"prepend-icon":"mdi-lock","append-icon":e.visibility?"mdi-eye":"mdi-eye-off",type:e.visibility?"text":"password",rules:e.passwordRules,required:"",hint:e.hint},on:{blur:e.handleExit,"click:append":function(){return e.visibility=!e.visibility},change:e.passwordLevel},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})},pe=[],me=(a("a15b"),function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}),ve=function(e){return/[a-zA-Z0-9.-]{5,20}/.test(e)},fe="De 5 a 20 caracteres alfanuméricos, ponto e hífen",he="DEVELOPMENT"==z,_e=[function(e){return e.length>=5||"mínimo de 5 caracteres"}];he||(_e.push((function(e){return/[A-Z]/.test(e)||"letras maiúsculas"})),_e.push((function(e){return/[a-z]/.test(e)||"letras minúsculas"})),_e.push((function(e){return/\d/.test(e)||"números"})),_e.push((function(e){return/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e)||"símbolos"})));var ge=function(e){var t=[];return he||(/\d/.test(e)||t.push("número(s)"),/[A-Z]/.test(e)||t.push("letra(s) maiúscula(s)"),/[a-z]/.test(e)||t.push("letra(s) minúscula(s)"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e)||t.push("símbolo(s)")),e.length<5&&t.push("mínimo de 5 caracteres"),t},be=function(e){return 0==ge(e).length},xe={data:function(){return{textClass:"",password:"",visibility:!1,passwordRules:_e,messages:[],hint:""}},methods:{handleExit:function(){this.$emit("password",this.password)},passwordLevel:function(){var e=ge(this.password),t=5-e.length;return this.hint=e.join(", "),t}}},Ae=xe,Te=a("8654"),Ve=Object(p["a"])(Ae,de,pe,!1,null,null,null),Se=Ve.exports;v()(Ve,{VTextField:Te["a"]});var we={components:{PasswordField:Se},data:function(){return{username:"",password:"",redirect:null,alert:!1,alertMessage:""}},mounted:function(){this.redirect=this.$route.query.redirect},methods:{doLogin:function(){var e=this;this.API.AUTH.login(this.username,this.password).then((function(t){console.log("LOGIN",t),e.$router.push(e.redirect||"home")})).catch((function(t){e.alertMessage=t.response.data.message,e.alert=!0}))},on_password:function(e){this.password=e}}},Ee=we,Ce=a("62ad"),Oe=a("4bd4"),Pe=a("0fd9"),ke=a("2db4"),ye=a("71d9"),Re=a("2a7f"),Le=Object(p["a"])(Ee,le,ue,!1,null,null,null),Ie=Le.exports;v()(Le,{VBtn:h["a"],VCard:j["a"],VCardActions:D["a"],VCardText:D["b"],VCol:Ce["a"],VForm:Oe["a"],VRow:Pe["a"],VSnackbar:ke["a"],VSpacer:S["a"],VTextField:Te["a"],VToolbar:ye["a"],VToolbarTitle:Re["a"]});var Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Registrar")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{id:"user",label:"Usuário",counter:20,rules:e.userRules,name:"user","prepend-icon":"mdi-account",type:"text",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{id:"email",label:"E-mail",name:"email","prepend-icon":"mdi-email",type:"email",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("PasswordField",{on:{password:e.on_password}}),a("v-checkbox",{attrs:{rules:[function(e){return!!e||"Você deve concordar para continuar!"}],label:"Você concorda com os termos de uso?",required:""},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}})],1)],1),a("v-card-actions",[a("ComplianceTextButton",{attrs:{document:"usage_terms"}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!e.canRegister},on:{click:e.doRegistrar}},[e._v("Registrar")])],1)],1)],1)],1)},je=[],De={components:{ComplianceTextButton:M,PasswordField:Se},data:function(){return{username:"",userRules:[function(e){return ve(e)||fe},function(e){return!me(e)||"Nome de usuário não pode ser um e-mail"}],email:"",emailRules:[function(e){return me(e)||"E-mail deve ser válido"}],password:"",agree:!1,valid:!0}},computed:{canRegister:function(){return ve(this.username)&&me(this.email)&&be(this.password)&&this.agree}},methods:{on_password:function(e){this.password=e},doRegistrar:function(){var e=this;this.API.AUTH.subscribe(this.username,this.email,this.password).then((function(t){t.data.ok?(console.log("REGISTRAR",t.data),e.$fire({title:"Sucesso",icon:"success",text:t.data.msg})):(console.error("REGISTRAR",t.data),e.$fire({title:"Erro",icon:"error",text:t.data.msg}))})).catch((function(e){console.error("REGISTRAR",e)}))}}},Fe=De,Ue=a("ac7c"),Me=Object(p["a"])(Fe,Ne,je,!1,null,null,null),$e=Me.exports;v()(Me,{VBtn:h["a"],VCard:j["a"],VCardActions:D["a"],VCardText:D["b"],VCheckbox:Ue["a"],VCol:Ce["a"],VForm:Oe["a"],VRow:Pe["a"],VSpacer:S["a"],VTextField:Te["a"],VToolbar:ye["a"],VToolbarTitle:Re["a"]});var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Redefinir senha")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{id:"user",label:"Usuário/e-mail",name:"user","prepend-icon":"mdi-account",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",small:"",to:"login"}},[e._v("Login")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"}},[e._v("Enviar link")])],1)],1)],1)],1)},Be=[],Ge={data:function(){return{username:"",password:""}}},ze=Ge,He=Object(p["a"])(ze,qe,Be,!1,null,null,null),Ke=He.exports;v()(He,{VBtn:h["a"],VCard:j["a"],VCardActions:D["a"],VCardText:D["b"],VCol:Ce["a"],VForm:Oe["a"],VRow:Pe["a"],VSpacer:S["a"],VTextField:Te["a"],VToolbar:ye["a"],VToolbarTitle:Re["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Nova senha")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{id:"user",label:"Usuário/e-mail",name:"user","prepend-icon":"mdi-account",type:"text",readonly:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("PasswordField",{on:{password:e.on_password}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"}},[e._v("Gravar senha")])],1)],1)],1)],1)},Qe=[],Ze={components:{PasswordField:Se},data:function(){return{username:"",password:""}},methods:{on_password:function(e){this.password=e,console.log("on_password",e)}},created:function(){var e=this.$route.query.authorization;e||(alert("Sem autorização"),this.$route.push("login"))}},Xe=Ze,Ye=Object(p["a"])(Xe,Je,Qe,!1,null,null,null),We=Ye.exports;v()(Ye,{VBtn:h["a"],VCard:j["a"],VCardActions:D["a"],VCardText:D["b"],VCol:Ce["a"],VForm:Oe["a"],VRow:Pe["a"],VSpacer:S["a"],VTextField:Te["a"],VToolbar:ye["a"],VToolbarTitle:Re["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Você é um escotista?")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Acesso ao mAPPa")]),a("v-divider"),a("v-stepper-step",{attrs:{step:"3"}},[e._v("Fim")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}},[a("v-card-title",[e._v("Recurso exclusivo para escotistas registrados na União dos Escoteiros do Brasil")]),a("v-card-text",[e._v(" Nosso sistema permite que você tenha um acesso mais amigável aos dados da sua seção, que são registrados pelo aplicativo mAPPa Adulto. "),a("br"),e._v("Para tanto, será necessário que você informe suas credenciais utilizadas no mAPPa Adulto. "),a("br"),a("strong",[e._v("Garantimos que sua senha não será armazenada,")]),e._v(" pois o sistema de autenticação é baseado em chaves temporárias. Sua senha será utilizada apenas para o acesso e descartada em seguida. "),a("br"),e._v("Para mais informações, consulte nosso Termo de Uso e a Política de Privacidade (links no rodapé do site). ")])],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v("Continuar")]),a("v-btn",{attrs:{text:""},on:{click:e.naoQueroAgora}},[e._v("Não quero fazer isso agora")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}},[a("v-card-title",[e._v("Informe suas credenciais do mAPPa")]),a("v-card-text",[a("v-form",{model:{value:e.mappaValid,callback:function(t){e.mappaValid=t},expression:"mappaValid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Usuário mAPPa",rules:e.userRules,required:""},model:{value:e.mappa.username,callback:function(t){e.$set(e.mappa,"username",t)},expression:"mappa.username"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Senha do aplicativo mAPPa",rules:e.passRules,required:"",type:"password"},model:{value:e.mappa.password,callback:function(t){e.$set(e.mappa,"password",t)},expression:"mappa.password"}})],1)],1)],1)],1)],1)],1),e.erroLogin?a("v-alert",{attrs:{prominent:"",type:"error",dismissible:"","close-text":"Fechar"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[e._v(e._s(e.erroLogin))])],1)],1):e._e(),a("v-btn",{attrs:{color:"primary",disabled:!e.mappaValid},on:{click:e.validarMAPPA}},[e._v("Continuar")]),a("v-btn",{attrs:{text:""},on:{click:e.naoQueroAgora}},[e._v("Não quero fazer isso agora")])],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}},[a("v-form",{attrs:{readonly:""}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:e.user.nome,callback:function(t){e.$set(e.user,"nome",t)},expression:"user.nome"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Grupo Escoteiro"},model:{value:e.user.grupo,callback:function(t){e.$set(e.user,"grupo",t)},expression:"user.grupo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Seção(ões)"},model:{value:e.secoes,callback:function(t){e.secoes=t},expression:"secoes"}})],1)],1)],1)],1)],1),a("v-btn",{attrs:{color:"secondary",disabled:!e.mappaLoginOk},on:{click:e.obterSecoes}},[e._v("Obter Seções")]),a("v-btn",{attrs:{color:"primary"},on:{click:e.finalizar}},[e._v("Finalizar")])],1)],1)],1)},tt=[],at=(a("d81d"),function(){var e=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={_v:t,_u:a};localStorage.setItem(e,JSON.stringify(o))},t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=localStorage.getItem(e);if(o)try{o=JSON.parse(o),o._u<=0||o._u>ot()?o._v&&(t=o._v):a(e)}catch(r){console.error("[LOCALSTORAGE] Error on getValue",e,r)}return t},a=function(e){return localStorage.removeItem(e)};return{setValue:e,getValue:t,deleteValue:a}}),ot=function(){return Math.round((new Date).getTime()/1e3)},rt=at(),nt={host:$,auth:null,validUntil:0,user:{name:null,email:null,ueb_id:0,user_mappa:null}},it=nt,st={getAuth:function(e){return e.auth},getHost:function(e){return e.host},getAuthorization:function(e){return e.auth},isValid:function(e){return e.validUntil>(new Date).getTime()/1e3},getUser:function(e){return e.user}},ct={setHost:function(e,t){var a=e.commit,o=t.host;a("SET_HOST",o)},setAuth:function(e,t){var a=e.commit,o=t.auth;a("SET_AUTH",o)},getAuthFromStorage:function(e){var t=e.commit,a=e.dispatch,o=rt.getValue(B);o?(console.log("[BACKEND] AUTHORIZATION FOUND",o),window.axios.post("/auth/user/"+o).then((function(e){e=e.data,console.log("[BACKEND] DATA FROM AUTH",e),t("SET_LOGIN_DATA",e),a("setAuth",{auth:e.authorization})})).catch((function(e){rt.deleteValue(B),t("SET_LOGIN_DATA",nt),console.error("[BACKEND] AUTH ERROR",e)}))):console.log("[BACKEND] NO AUTHORIZATION DATA")},set_login_data:function(e,t){var a=e.commit;a("SET_LOGIN_DATA",t)}},lt={SET_HOST:function(e,t){e.host=t},SET_AUTH:function(e,t){e.auth=t},SET_LOGIN_DATA:function(e,t){e.auth=t.authorization,e.validUntil=t.validUntil,e.user=t.user,e.validUntil=t.validUntil,e.ueb_id=t.ueb_id,e.user_mappa=t.user_mappa,rt.setValue(B,t.authorization,t.validUntil),console.log("[BACKEND] SET LOGIN DATA",t)}},ut={namespaced:!0,state:it,getters:st,actions:ct,mutations:lt},dt=at(),pt={tipo_atv:{},area_desenv:{}},mt={get_tipo_atv:function(e){return e.tipo_atv},get_area_desenv:function(e){return e.area_desenv}},vt={update_consts:function(e){var t=e.commit,a=dt.getValue("_consts",null);a?(console.log("[CONSTS] FROM LOCAL STORAGE",a),t("UPDATE_CONSTS",a)):window.axios.get("/api/consts").then((function(e){var a=e.data;console.log("[CONSTS]",a),dt.setValue("_consts",a,ot()+3600),t("UPDATE_CONSTS",a)})).catch((function(e){return console.error("[CONSTS]",e)}))}},ft={UPDATE_CONSTS:function(e,t){e.area_desenv=t.area_desenv,e.tipo_atv=t.tipo_atv}},ht={namespaced:!0,state:pt,getters:mt,actions:vt,mutations:ft},_t=at(),gt=G+"_LOGIN",bt=G+"_SECOES",xt={mappa:{auth_valid_until:0,authorization:null,cod_grupo:0,cod_modalidade:null,cod_regiao:null,nom_grupo:null,nome_completo:null,user_id:0},secoes:[{}]},At={getMappa:function(e){return e.mappa},getSecoes:function(e){return e.secoes}},Tt={getMappaFromStorage:function(e){var t=e.commit,a=_t.getValue(gt),o=_t.getValue(bt);console.log("[MAPPA] DATA",{mappa:a,secoes:o}),a&&t("SET_MAPPA",a),o&&t("SET_SECOES",o)},setMappa:function(e,t){var a=e.commit;a("SET_MAPPA",t),_t.setValue(gt,t,t.auth_valid_until)},setSecoes:function(e,t){var a=e.commit;a("SET_SECOES",t),_t.setValue(bt,t)}},Vt={SET_MAPPA:function(e,t){e.mappa={auth_valid_until:t.auth_valid_until,authorization:t.authorization,cod_grupo:t.cod_grupo,cod_modalidade:t.cod_modalidade,cod_regiao:t.cod_regiao,nom_grupo:t.nom_grupo,nome_completo:t.nome_completo,user_id:t.user_id}},SET_SECOES:function(e,t){e.secoes=t}},St={namespaced:!0,state:xt,getters:At,actions:Tt,mutations:Vt};o["a"].use(l["a"]);var wt=new l["a"].Store({modules:{backend:ut,consts:ht,mappa:St}}),Et={data:function(){return{e1:1,mappa:{username:null,password:null},mappaValid:!1,userRules:[function(e){return!!e||"Usuário mAPPa é requerido"}],passRules:[function(e){return!!e||"Senha mAPPA é requerida"}],erroLogin:"",mappaLoginOk:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])("mappa",["getMappa","getSecoes"])),{},{user:function(){return{nome:this.getMappa.nome_completo,grupo:this.getMappa.cod_grupo+"/"+this.getMappa.cod_regiao+" "+this.getMappa.nom_grupo,modalidade:["Alcatéia","Tropa Escoteira",""]}},secoes:function(){return this.getSecoes.map((function(e){return e.tipo+": "+e.nome})).join(", ")}}),methods:{validarMAPPA:function(){var e=this;this.erroLogin="",window.axios.post("/api/mappa/login",{username:this.mappa.username,password:this.mappa.password}).then((function(t){console.log("MAPPA LOGIN",t),wt.dispatch("mappa/setMappa",t.data),e.mappaLoginOk=!0,e.e1=3})).catch((function(t){console.error("MAPPA LOGIN",t),e.erroLogin=t.data}))},naoQueroAgora:function(){},finalizar:function(){},obterSecoes:function(){var e={user_id:this.getMappa.user_id,authentication:this.getMappa.authorization,username:this.mappa.username,auth_valid_until:this.getMappa.auth_valid_until};window.axios.post("/api/mappa/secoes",e).then((function(e){console.log("MAPPA SECOES",e),wt.dispatch("mappa/setSecoes",e.data)})).catch((function(e){console.error("MAPPA SECOES",e)}))}}},Ct=Et,Ot=a("0798"),Pt=a("ce7e"),kt=a("7e85"),yt=a("e516"),Rt=a("9c54"),Lt=a("56a4"),It=Object(p["a"])(Ct,et,tt,!1,null,null,null),Nt=It.exports;v()(It,{VAlert:Ot["a"],VBtn:h["a"],VCard:j["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:Ce["a"],VContainer:re["a"],VDivider:Pt["a"],VForm:Oe["a"],VRow:Pe["a"],VStepper:kt["a"],VStepperContent:yt["a"],VStepperHeader:Rt["a"],VStepperItems:Rt["b"],VStepperStep:Lt["a"],VTextField:Te["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Atividade",{attrs:{showRamo:""}})],1)},Dt=[],Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v("Atividade")]),a("v-card-text",[a("v-row",[e.showRamo?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("TipoRamoSelect",{attrs:{ramo:e.ramo},on:{changed:e.changedRamo}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("TipoAtividadeSelect",{on:{changed:e.changedTipoAtividade}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-label",{staticClass:"pl-0"},[e._v("Duração: "+e._s(e.duracao[0])+" a "+e._s(e.duracao[1])+" min")]),a("v-range-slider",{staticClass:"align-center",attrs:{"thumb-label":"",max:120,min:0,"hide-details":"",step:"5",ticks:""},model:{value:e.duracao,callback:function(t){e.duracao=t},expression:"duracao"}})],1),e.ehAtividadeEducativa?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:e.nome,callback:function(t){e.nome=t},expression:"nome"}})],1):e._e(),e.ehAtividadeEducativa?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{staticClass:"mx-2",attrs:{label:"Descrição",rows:"1","prepend-icon":"mdi-comment"},model:{value:e.descricao,callback:function(t){e.descricao=t},expression:"descricao"}})],1):e._e(),e.ehAtividadeEducativa?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{staticClass:"mx-2",attrs:{label:"Como Avaliar",rows:"1","prepend-icon":"mdi-comment"},model:{value:e.como_avaliar,callback:function(t){e.como_avaliar=t},expression:"como_avaliar"}})],1):e._e(),e.ehAtividadeEducativa?a("v-col",[a("TipoAreaDesenvSelect",{on:{changed:e.changedAreaDesenv}})],1):e._e(),e.ehAtividadeEducativa?a("v-col",[a("ProgressoesSelect")],1):e._e()],1)],1)],1)},Ut=[],Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.items,"item-value":"id","item-text":"text","prepend-icon":"mdi-calendar-range",label:"Tipo da atividade"},on:{change:e.changeTipo},model:{value:e.tp_atividade,callback:function(t){e.tp_atividade=t},expression:"tp_atividade"}})},$t=[],qt={props:{tipo:{type:String,validator:function(e){return-1!==["c","e","h","i","j","m","q"].indexOf(e.toLowerCase())},default:function(){return"i"}}},data:function(){return{tp_atividade:null}},computed:{items:function(){return K}},methods:{changeTipo:function(e){this.$emit("changed",e)}},created:function(){this.tp_atividade=this.tipo}},Bt=qt,Gt=a("b974"),zt=Object(p["a"])(Bt,Mt,$t,!1,null,null,null),Ht=zt.exports;v()(zt,{VSelect:Gt["a"]});var Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.items,"item-value":"id","item-text":"text","prepend-icon":"mdi-leaf",label:"Ramo"},on:{change:e.changeTipo},model:{value:e.tp_ramo,callback:function(t){e.tp_ramo=t},expression:"tp_ramo"}})},Jt=[],Qt={props:{tipo:String},data:function(){return{tp_ramo:null}},computed:{items:function(){return Q}},methods:{changeTipo:function(e){this.$emit("changed",e)}},created:function(){this.tp_ramo=this.tipo}},Zt=Qt,Xt=Object(p["a"])(Zt,Kt,Jt,!1,null,null,null),Yt=Xt.exports;v()(Xt,{VSelect:Gt["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.items,"item-value":"id","item-text":"text","prepend-icon":"mdi-star-circle",label:"Área de Desenvolvimento"},on:{change:e.changeTipo},model:{value:e.tp_area,callback:function(t){e.tp_area=t},expression:"tp_area"}})},ea=[],ta={props:{tipo:{type:String,validator:function(e){return-1!==["f","i","c","a","s","e"].indexOf(e.toLowerCase())},default:function(){return"f"}}},computed:{items:function(){return H}},data:function(){return{tp_area:this.tipo.toLowerCase()}},methods:{changeTipo:function(e){this.$emit("changed",e)}}},aa=ta,oa=Object(p["a"])(aa,Wt,ea,!1,null,null,null),ra=oa.exports;v()(oa,{VSelect:Gt["a"]});var na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.lista_progressoes,"item-text":"text","item-value":"cod",label:"Progressões",multiple:"",chips:""},model:{value:e.progressoes,callback:function(t){e.progressoes=t},expression:"progressoes"}})},ia=[],sa={data:function(){return{progressoes:[],lista_progressoes:[{cod:"S1",text:"Progressão S1"},{cod:"S2",text:"Progressão S2"}]}},created:function(){for(var e=0;e<100;e++)this.lista_progressoes.push({cod:"P"+e,text:"Progressão P"+e})}},ca=sa,la=Object(p["a"])(ca,na,ia,!1,null,null,null),ua=la.exports;v()(la,{VSelect:Gt["a"]});var da={components:{TipoAtividadeSelect:Ht,TipoRamoSelect:Yt,TipoAreaDesenvSelect:ra,ProgressoesSelect:ua},props:{ramo:{type:String,validator:function(e){return-1!==["A","T","S","C"].indexOf(e)}},showRamo:Boolean},data:function(){return{tp_ramo:this.ramo,area:null,tipo:null,dur_min:5,dur_max:10,duracao:[5,20],slider:40,nome:null,descricao:null,como_avaliar:null,restricoes:[],progressoes:[]}},computed:{ehAtividadeEducativa:function(){return-1!==J.indexOf(this.tipo)}},methods:{changedTipoAtividade:function(e){this.tipo=e},changedRamo:function(e){this.tp_ramo=e},changedAreaDesenv:function(e){this.area=e}},created:function(){}},pa=da,ma=a("24c9"),va=a("5963"),fa=a("a844"),ha=Object(p["a"])(pa,Ft,Ut,!1,null,null,null),_a=ha.exports;v()(ha,{VCard:j["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:Ce["a"],VLabel:ma["a"],VRangeSlider:va["a"],VRow:Pe["a"],VTextField:Te["a"],VTextarea:fa["a"]});var ga={components:{Atividade:_a},data:function(){return{dialog:!1,text:"",title:""}},methods:{changed:function(e){console.log("Changed tipo to",e)}}},ba=ga,xa=Object(p["a"])(ba,jt,Dt,!1,null,null,null),Aa=xa.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"NotFound"},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{height:"400",color:"transparent",flat:""}},[a("div",{staticClass:"display-3 mt-5"},[e._v("Página não encontrada.")]),a("div",{staticClass:"grey--text lighten-5"},[e._v("A página que você está tentando acessar nunca existiu nessa realidade ou migrou para um universo paralelo.")]),a("div",{staticClass:"paragraph-text mt-2"},[a("br"),a("br"),e._v("Tente voltar para a "),a("router-link",{attrs:{to:{name:"home"}}},[e._v("página inicial")]),e._v(" e repetir sua ação. Ou contate o suporte, se necessário. ")],1)])],1)],1)],1)],1)},Va=[],Sa={},wa=Sa,Ea=(a("d2ef"),a("0e8f")),Ca=a("a722"),Oa=Object(p["a"])(wa,Ta,Va,!1,null,null,null),Pa=Oa.exports;v()(Oa,{VCard:j["a"],VContainer:re["a"],VFlex:Ea["a"],VLayout:Ca["a"]});var ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Home")]),a("v-btn",{attrs:{to:"/auth/login"}},[e._v("Login")])],1)},ya=[],Ra={},La=Ra,Ia=Object(p["a"])(La,ka,ya,!1,null,null,null),Na=Ia.exports;v()(Ia,{VBtn:h["a"]}),o["a"].use(ce["a"]);var ja=[{path:"/",name:"home",meta:{title:"Escoteirando"},component:Na},{path:"/auth/login",name:"login",meta:{title:"Escoteirando : Login"},component:Ie},{path:"/auth/subscribe",name:"subscribe",meta:{title:"Escoteirando : Registrar"},component:$e},{path:"/auth/reset",name:"reset",component:Ke},{path:"/auth/redefine",name:"redefine",component:We},{path:"/auth/mappa",name:"mappa",component:Nt},{path:"/test",name:"test",component:Aa},{path:"*",name:"404",component:Pa}],Da=["login","subscribe","reset","redefine","test","404"],Fa=at(),Ua=new ce["a"]({routes:ja});Ua.beforeEach((function(e,t,a){var o=Fa.getValue(B,!1);console.log("[ROUTER] "+(o?"LOGGED":""),e),o?"login"==e.name?(console.log("[ROUTER] LOGGED USER CANNOT LOGIN AGAIN"),a({name:"home"})):a():Da.indexOf(e.name)<0?(console.log("[ROUTER] Routing to ".concat(e.name," but not authorized: Redirecting to login")),a({name:"login",query:{redirect:e.fullPath}})):a()}));var Ma=Ua,$a=(a("d3b7"),a("bc3a")),qa=a.n($a),Ba={baseURL:$,timeout:1e3*q},Ga=qa.a.create(Ba),za=at();console.debug("AXIOS_SETUP",Ba),window.axios=Ga,Ga.interceptors.request.use((function(e){var t=za.getValue(B);return t&&(e.headers.Authorization="Bearer ".concat(t),e.headers["ESCOTEIRANDO"]="OK"),e}),(function(e){return Promise.reject(e)})),Ga.interceptors.response.use((function(e){return console.log("[AXIOS] response",e),e}),(function(e){return Promise.reject(e)}));var Ha=function(e){var t=function(t,a){return new Promise((function(o,r){e.post("/auth/login",{username:t,password:a}).then((function(e){wt.dispatch("backend/set_login_data",e.data),o(e)})).catch((function(e){r(e)}))}))},a=function(t,a,o){return e.post("/auth/subscribe",{username:t,password:o,email:a,ueb_id:0})};return{login:t,subscribe:a}},Ka={};try{var Ja=at(),Qa=Ha(Ga);Ka={LOCAL_STORAGE:Ja,AUTH:Qa}}catch(Wa){throw console.error("ERRO EM API.js",Wa),"Deu pau"}Plugin.install=function(e){e.API=Ka,window.API=Ka,Object.defineProperties(e.prototype,{API:{get:function(){return Ka}},$API:{get:function(){return Ka}}}),console.log("[API] INIT",Ka)},o["a"].use(Plugin);Plugin;var Za=a("683f"),Xa=a("f309");o["a"].use(Xa["a"]);var Ya=new Xa["a"]({theme:{dark:!1,themes:{light:{primary:"#663366",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"},dark:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}});a("bb18");o["a"].use(Za["a"]),o["a"].config.productionTip=!1,new o["a"]({router:Ma,store:wt,render:function(e){return e(se)},vuetify:Ya,created:function(){wt.dispatch("backend/getAuthFromStorage"),wt.dispatch("consts/update_consts")}}).$mount("#app")},bb18:function(e,t,a){},d2ef:function(e,t,a){"use strict";var o=a("464e"),r=a.n(o);r.a},ee60:function(e,t,a){e.exports=a.p+"img/escoteiros.b6ed529a.svg"},ff63:function(e,t,a){e.exports=a.p+"img/scouts_white.da99fefa.svg"}});
//# sourceMappingURL=app.23052ba1.js.map